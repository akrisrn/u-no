<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#efefef">
    <link rel="shortcut icon" href="{{ get_static_file_url('img/favicon.png') }}">
    <title>{%- block title -%}{%- endblock -%}</title>
    {%- set default_plugin_urls = get_plugins_urls(["vue", "pace", "jquery", "tablesorter", "raty", "markdown-style", "fonts"]) -%}
    {%- set js_custom = ["js/pace.on.js", "js/markdown.js", "js/script.js"] -%}
    {%- set css_custom = ["css/style.css", "css/highlight.css", "css/markdown.css", "css/gh-buttons.css"] -%}
    {%- for js_url in default_plugin_urls["js"] -%}
        <script type="text/javascript" src="{{ js_url }}"></script>
    {%- endfor -%}
    {%- for custom in js_custom -%}
        <script type="text/javascript" src="{{ get_static_file_url(custom) }}"></script>
    {%- endfor -%}
    <script>
        const home_url = "{{ url_for('main.home_page') }}";
        const tags_url = "{{ url_for('main.tags_page') }}";
        {%- if not is_freeze -%}
            const index_url = "{{ url_for('main.index_page') }}";
            const reindex_url = "{{ url_for('main.reindex_page') }}";
        {%- endif -%}
        const inputBinds = {
            "tags": () => {
                window.location.href = tags_url
            },
            "home": () => {
                window.location.href = home_url
            },
            "gg": () => {
                $("#content")[0].scrollIntoView(true);
                keyInput += "_";
            },
            "G": () => {
                $("#content")[0].scrollIntoView(false);
            },
            "Backspace": () => {
                keyInput = keyInput.substr(0, keyInput.length - 10)
            }
        };
        {%- if not is_freeze -%}
            inputBinds["index"] = () => {
                window.location.href = index_url
            };
            inputBinds["reidx"] = () => {
                window.location.href = reindex_url
            };
        {%- endif -%}
    </script>
    {%- block extra_js_link -%}
    {%- endblock -%}
    {%- for css_url in default_plugin_urls["css"] -%}
        <link rel="stylesheet" type="text/css" href="{{ css_url }}">
    {%- endfor -%}
    {%- for custom in css_custom -%}
        <link rel="stylesheet" type="text/css" href="{{ get_static_file_url(custom) }}">
    {%- endfor -%}
    {%- block extra_css_link -%}
    {%- endblock -%}
</head>
<body>
<div id="body">
    <div id="content">
        <div id="main">
            {%- block content -%}
            {%- endblock -%}
        </div>
    </div>
</div>
<div id="to-top">
    <i class="fas fa-chevron-up fa-2x"></i>
</div>
{%- set js_custom = ["js/to-top.js", "js/vue-components.js"] -%}
{%- for custom in js_custom -%}
    <script type="text/javascript" src="{{ get_static_file_url(custom) }}"></script>
{%- endfor -%}
</body>
</html>