{%- extends "frame.html" -%}
{%- block title -%}
    {{ title }}
{%- endblock -%}
{%- block extra_js_link -%}
    {%- for js_url in js_urls -%}
        <script type="text/javascript" src="{{ js_url }}"></script>
    {%- endfor -%}
{%- endblock -%}
{%- block extra_css_link -%}
    {%- for css_url in css_urls -%}
        <link rel="stylesheet" type="text/css" href="{{ css_url }}">
    {%- endfor -%}
{%- endblock -%}
{%- block content -%}
    <div id="article">
        <h1>${title}</h1>
        <a href="/">
            <i style="margin-right: 10px" class="fas fa-angle-double-left"></i>HOME
        </a>
        <template v-if="!notags">
            <i class="fas fa-tags fa-xs"></i>
            <div class="tag" v-for="tag in sortedTags">
                <a :href="tag.url">
                    <i style="margin-right: 3px" class="fas fa-hashtag"></i>${tag.name}
                </a>
            </div>
        </template>
        <div class="date">${date}</div>
        <hr>
        <div class="markdown-body" v-html="content"></div>
    </div>
{%- endblock -%}
{%- block vue -%}
    <script>
        new Vue({
            delimiters: ['${', '}'],
            el: "#article",
            data: {{ data | safe }},
            computed: {
                sortedTags: function () {
                    return _.sortBy(this.tags, 'name')
                }
            }
        })
    </script>
{%- endblock -%}
